# Aviasales app #

### Самая большая трудность (что заняло больше всего времени) ###

Самое большое время заняло рисование блочка выбора валюты - pixel-perfect на css.
Как видно на макетах, граница внутри выделенной области имеет толщину 1 пиксель - квадратной формы.
![макетов](https://github.com/mikhailrojo/aviasales/blob/master/README.assets/shouldlook.png "Как должно выглядеть")

Если делать в лоб бордерами - то получаются двойные границы:
![двойные границы](https://github.com/mikhailrojo/aviasales/blob/master/README.assets/double-border.png "Двойные границы")

Таким образом необходимо делать `border` между опциями - 1 px - одним border'ом.

Второй вариант - который я попробовал - это прозрачный цвет рамки - но тогда получается уголки
![общий вид](https://github.com/mikhailrojo/aviasales/blob/master/README.assets/transparent.png "Общий вид")
![близкий вид](https://github.com/mikhailrojo/aviasales/blob/master/README.assets/transparent-close.png "Близкий вид")

Третий вариант на которым я работал несколько часов - был без прозрачных границ.
Дело в том что структура html выглядит так
```html
  <input type="radio">
  <div>Первый</div>
  <input type="radio">
  <div>Второй</div>
  <input type="radio">
  <div>Третий</div>
```

Она обусловлена тем - что работа со стилями выбранного чекбокса ведется из css. То есть чтобы сделать выделенными `div`
"Первый" - если перед ним выбран чекбокс можно в css написать `input:checked + div {}` - и таким образом со стилями работать
только из css.

Но данная структура сложна для стайлинга из-за того что очень сложно оперировать существующими `css` селекторами.
Фактически нет способа например при hover'e на втором div'e сказать подсветить правую сторону предыдущего дива.

Во-первых, нет такого селектора, а во-вторых предыдущий див находится не рядом, а через `<input>` от него.

Долго работая на стайлингом border'ов - наконец получилось договориться с css - получилось так:
![достойно - 1](https://github.com/mikhailrojo/aviasales/blob/master/README.assets/almost1.png "Достойный вид - 1")
![достойно - 2](https://github.com/mikhailrojo/aviasales/blob/master/README.assets/almost2.png "Достойный вид - 2")

Ссылка на [код](https://jsbin.com/texohobebi/edit?css,output)

В данном случае - сначала я пытался сделать так чтобы центральный элемент не имел правой и левой границы, а их имели только
левый и правый элементы. Соответственно при hover'e на центральный элемент - нужно было подсвечивать правую границу левого блока
и левую границу правого блока... и если границу правого блока было возможно подсветить - то границу левого блока - практически не возможно.

Помучившись с селекторами порядочно - я попробовал поменять подход. Теперь центральный элемент имеет все 4 границы, а левый и правый
элементы не имею правых и левых рамок соответственно. Этот вариант подошел, но пришлось - добавлять правило -
что при ховере над всем блоком - если это не второй див и ховер на нем -то подсвечивать правую границу(что это если не хак?).

Получилось достойно - но как видно - опять получилось - рамочка - с выпадающим пикселем. Теперь пиксель выпадал не внутри, а снаружи.

![общий вид](https://github.com/mikhailrojo/aviasales/blob/master/README.assets/pixel0.png "Общий вид")
![близкий вид](https://github.com/mikhailrojo/aviasales/blob/master/README.assets/pixel.png "Близкий вид")

Соответственно - последний вариант, который мог подойти - это сделать рамки на псевдо элементах `:before`.
Помучившись с ними некоторое время - мне кажется результат удовлетворительным. Понятно что при расширении кол-ва вариантов валют -
его придется пересматривать - тем не менее в текущем исполнении - он мне представляется  pixel-perfect.

Кроме того - если валюты 3 - то кажется - логичным использовать такую радио-кнопку, если же их больше - то кажется семантичней
и симпатичней - использовать селект (как сейчас это делается на aviasales.ru).

![финальный вид](https://github.com/mikhailrojo/aviasales/blob/master/README.assets/final.png "Финальный вид")
![финальный вид2](https://github.com/mikhailrojo/aviasales/blob/master/README.assets/final2.png "Финальный вид2")

Финальная реализация - подразумевает отсутствие внутренних рамок между `div`'ами. Рамки задаются псевоблоками на :before.

По этой причине - их возможно (с некоторыми трудностями) выбирать через `css`. Левая граница это блок :before, а права рамка - это
идущий следом блок, который можно выбрать через `~`.

Из-за того что левая граница теперь не предыдущий `div` (который невозможно выбрать css-селектором), а свой элемент `:before`,
стала возможной текущая реализация.